CREATE TABLE Customers (
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   email VARCHAR(128) NOT NULL,
   password VARCHAR(128) NOT NULL,
   mobile VARCHAR(20),
   firstName VARCHAR(255) NOT NULL,
   lastName VARCHAR(255) NOT NULL,
   street VARCHAR(128) NOT NULL,
   city VARCHAR(128) NOT NULL,
   state VARCHAR(20) NOT NULL,
   postCode INTEGER NOT NULL,
   country VARCHAR(20) NOT NULL
);

INSERT INTO Customers (email, password, mobile, firstName, lastName, street, city, state, postCode, country, mobile) VALUES
('henry.seaborn@email.com', 'password1', '(02) 9025 6750', 'Henry', 'Seaborn', '1 street Avenue', 'GOROKAN', 'NSW', 1000, 'Australia'),
('michael.arnot@email.com', 'password2', '(02) 9025 6751', 'Michael', 'Arnot', '2 street', 'WAVERLEY', 'QLD', 1001, 'Australia'),
('john.doe@email.com', 'password3', '(02) 9025 6752', 'John', 'Doe', '3 street', 'ROCKDALE', 'NSW', 2216, 'Australia', ),
('jane.doe@email.com', 'password4', '(02) 9025 6753', 'Jane', 'Doe', '4 street', 'MOSSIFACE', 'VIC', 3885, 'Australia'),
('jackie.chan@email.com', 'password5', '(02) 9025 6754', 'Henry', 'Seaborn', '5 street', 'GOLLAN', 'NSW', 2820, 'Australia');

CREATE TABLE Staff(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   email VARCHAR(128) NOT NULL,
   password VARCHAR(128) NOT NULL,
   firstName VARCHAR(255) NOT NULL,
   lastName VARCHAR(255) NOT NULL,
   street VARCHAR(255) NOT NULL,
   city VARCHAR(15) NOT NULL,
   state VARCHAR(15) NOT NULL,
   postCode VARCHAR(5) NOT NULL,
   country VARCHAR(15) NOT NULL,
   mobile VARCHAR(20)
);
CREATE TABLE Suppliers(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   companyName VARCHAR(255) NOT NULL,
   email VARCHAR(128) NOT NULL,
   firstName VARCHAR(255) NOT NULL,
   lastName VARCHAR(255) NOT NULL,
   mobile VARCHAR(20) NOT NULL
);
CREATE TABLE Categories(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   name VARCHAR(255) NOT NULL,
   description VARCHAR(255)
);
CREATE TABLE Products(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   supplier_id INT NOT NULL,
   name VARCHAR(255) NOT NULL,
   price VARCHAR(255) NOT NULL,
   description VARCHAR(255),
   quantity INT NOT NULL,

   FOREIGN KEY (supplier_id) REFERENCES Suppliers(id)
);
CREATE TABLE Product_Categories(
   product_id INT NOT NULL,
   category_id INT NOT NULL,

   FOREIGN KEY (product_id) REFERENCES Products(id),
   FOREIGN KEY (category_id) REFERENCES Categories(id),
   PRIMARY KEY (product_id, category_id)
);
CREATE TABLE Payments(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   customer_id INT NOT NULL,
   firstName VARCHAR(255), 
   lastName VARCHAR(255),
   cardNumber VARCHAR(16) NOT NULL,
   expiryDate DATE,

   FOREIGN KEY (customer_id) REFERENCES Customers(id)
);
CREATE TABLE Orders(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   customer_id INT NOT NULL,
   payment_id INT NOT NULL,
   orderDate DATE,
   deliveryDate DATE,
   street VARCHAR(128) NOT NULL,
   city VARCHAR(128) NOT NULL,
   statei VARCHAR(20) NOT NULL,
   postCode VARCHAR(5) NOT NULL,
   country VARCHAR(20) NOT NULL,

   FOREIGN KEY (customer_id) REFERENCES Customers(id),
   FOREIGN KEY (payment_id) REFERENCES Payments(id)
);
CREATE TABLE Order_Line(
   order_id INT NOT NULL,
   product_id INT NOT NULL,

   FOREIGN KEY (order_id) REFERENCES Orders(id),
   FOREIGN KEY (product_id) REFERENCES Products(id),
   PRIMARY KEY (order_id, product_id)
);
CREATE TABLE Invoices(
   id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
   staff_id INT NOT NULL,
   supplier_id INT NOT NULL,
   orderDate DATE,
   deliveryDate DATE,

   FOREIGN KEY (staff_id) REFERENCES Staff(id),
   FOREIGN KEY (supplier_id) REFERENCES Suppliers(id)
);
CREATE TABLE SupplyList(
   invoice_id INT NOT NULL,
   product_id INT NOT NULL,
   FOREIGN KEY (invoice_id) REFERENCES Invoices(id),
   FOREIGN KEY (product_id) REFERENCES Products(id),
   PRIMARY KEY (invoice_id, product_id)
);
